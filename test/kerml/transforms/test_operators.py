import pytest

from pysysml.kerml.models import ExtentOp, QualifiedName, IntValue, RealValue, UnaryOp, StringValue, InfValue, \
    CondBinOp, BinOp, ClsTestOp, ClsCastOp, MetaClsTestOp, MetaClsCastOp
from .base import _parser_for_rule


@pytest.mark.unittest
class TestKerMLTransformsOperator:
    @pytest.mark.parametrize(['text', 'expected'], [
        ('x', QualifiedName(names=['x'])),
        ('x::y', QualifiedName(names=['x', 'y'])),
        ('all x', ExtentOp(x=QualifiedName(names=['x']))),
        ('+2', UnaryOp(op='+', x=IntValue(raw='2'))),
        ('-1.4', UnaryOp(op='-', x=RealValue(raw='1.4'))),
        ('~ x::y', UnaryOp(op='~', x=QualifiedName(names=['x', 'y']))),
        ("not x::'+'", UnaryOp(op='not', x=QualifiedName(names=['x', '+']))),
        ('~ "x y z +"', UnaryOp(op='~', x=StringValue(raw='"x y z +"'))),
        ('1', IntValue(raw='1')),
        ('1.5', RealValue(raw='1.5')),
        ('.5e-2', RealValue(raw='.5e-2')),
        ('"123 456"', StringValue(raw='"123 456"')),
        ('*', InfValue()),
        ('-*', UnaryOp(op='-', x=InfValue())),
        ('1+2', BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='2'))),
        ('1-2+3',
         BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='2')), y=IntValue(raw='3'))),
        ('1+2*3',
         BinOp(op='+', x=IntValue(raw='1'), y=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')))),
        ('1+2..3',
         BinOp(op='..', x=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='2')), y=IntValue(raw='3'))),
        ('1*2**2',
         BinOp(op='*', x=IntValue(raw='1'), y=BinOp(op='^', x=IntValue(raw='2'), y=IntValue(raw='2')))),
        ('2**3**4',
         BinOp(op='^', x=BinOp(op='^', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='4'))),
        ('1+2 /4 or  5.0 -2 * 3',
         CondBinOp(op='or',
                   x=BinOp(op='+', x=IntValue(raw='1'), y=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='4'))),
                   y=BinOp(op='-', x=RealValue(raw='5.0'), y=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3'))))),
        ('+-+-+-3.5',
         UnaryOp(op='+', x=UnaryOp(op='-', x=UnaryOp(op='+', x=UnaryOp(op='-', x=UnaryOp(op='+', x=UnaryOp(op='-',
                                                                                                           x=RealValue(
                                                                                                               raw='3.5')))))))),
        ('-1 * +5 ** ~x',
         BinOp(op='*', x=UnaryOp(op='-', x=IntValue(raw='1')), y=BinOp(op='^', x=UnaryOp(op='+', x=IntValue(raw='5')),
                                                                       y=UnaryOp(op='~',
                                                                                 x=QualifiedName(names=['x']))))),
        ('2 ^3^4',
         BinOp(op='^', x=BinOp(op='^', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='4'))),
        ('2 ^3**4',
         BinOp(op='^', x=BinOp(op='^', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='4'))),
        ('2 **3^4',
         BinOp(op='^', x=BinOp(op='^', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='4'))),

        ('2 * 3', BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 * 3 + 1',
         BinOp(op='+', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('3 + 1 * 2',
         BinOp(op='+', x=IntValue(raw='3'), y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='2')))),
        ('2 / 3', BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 / 3 + 1',
         BinOp(op='+', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('3 + 1 / 2',
         BinOp(op='+', x=IntValue(raw='3'), y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='2')))),
        ('2 % 3', BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 % 3 + 1',
         BinOp(op='+', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('3 + 1 % 2',
         BinOp(op='+', x=IntValue(raw='3'), y=BinOp(op='%', x=IntValue(raw='1'), y=IntValue(raw='2')))),

        ('2 * 3 * 1',
         BinOp(op='*', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3 / 1',
         BinOp(op='/', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3 % 1',
         BinOp(op='%', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3 * 1',
         BinOp(op='*', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3 / 1',
         BinOp(op='/', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3 % 1',
         BinOp(op='%', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 % 3 * 1',
         BinOp(op='*', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 % 3 / 1',
         BinOp(op='/', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 % 3 % 1',
         BinOp(op='%', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),

        ('2 * 3 * 1 * 4',
         BinOp(op='*', x=BinOp(op='*', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 * 1 / 4',
         BinOp(op='/', x=BinOp(op='*', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 * 1 % 4',
         BinOp(op='%', x=BinOp(op='*', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 / 1 * 4',
         BinOp(op='*', x=BinOp(op='/', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 / 1 / 4',
         BinOp(op='/', x=BinOp(op='/', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 / 1 % 4',
         BinOp(op='%', x=BinOp(op='/', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 % 1 * 4',
         BinOp(op='*', x=BinOp(op='%', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 % 1 / 4',
         BinOp(op='/', x=BinOp(op='%', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 * 3 % 1 % 4',
         BinOp(op='%', x=BinOp(op='%', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 * 1 * 4',
         BinOp(op='*', x=BinOp(op='*', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 * 1 / 4',
         BinOp(op='/', x=BinOp(op='*', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 * 1 % 4',
         BinOp(op='%', x=BinOp(op='*', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 / 1 * 4',
         BinOp(op='*', x=BinOp(op='/', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 / 1 / 4',
         BinOp(op='/', x=BinOp(op='/', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 / 1 % 4',
         BinOp(op='%', x=BinOp(op='/', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 % 1 * 4',
         BinOp(op='*', x=BinOp(op='%', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 % 1 / 4',
         BinOp(op='/', x=BinOp(op='%', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 / 3 % 1 % 4',
         BinOp(op='%', x=BinOp(op='%', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 * 1 * 4',
         BinOp(op='*', x=BinOp(op='*', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 * 1 / 4',
         BinOp(op='/', x=BinOp(op='*', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 * 1 % 4',
         BinOp(op='%', x=BinOp(op='*', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 / 1 * 4',
         BinOp(op='*', x=BinOp(op='/', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 / 1 / 4',
         BinOp(op='/', x=BinOp(op='/', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 / 1 % 4',
         BinOp(op='%', x=BinOp(op='/', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 % 1 * 4',
         BinOp(op='*', x=BinOp(op='%', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 % 1 / 4',
         BinOp(op='/', x=BinOp(op='%', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 % 3 % 1 % 4',
         BinOp(op='%', x=BinOp(op='%', x=BinOp(op='%', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),

        ('2 + 3 + 1',
         BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3 - 1',
         BinOp(op='-', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3 + 1',
         BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3 - 1',
         BinOp(op='-', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 - 4',
         BinOp(op='-', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 - 1 + 4',
         BinOp(op='+', x=BinOp(op='-', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 - 1 - 4',
         BinOp(op='-', x=BinOp(op='-', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 - 1 + 4',
         BinOp(op='+', x=BinOp(op='-', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 - 4',
         BinOp(op='-', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 + 1 - 4',
         BinOp(op='-', x=BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 - 1 + 4',
         BinOp(op='+', x=BinOp(op='-', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 - 1 - 4',
         BinOp(op='-', x=BinOp(op='-', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 - 1 + 4',
         BinOp(op='+', x=BinOp(op='-', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 + 1 - 4',
         BinOp(op='-', x=BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 - 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 - 4',
         BinOp(op='-', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 - 1 + 4',
         BinOp(op='+', x=BinOp(op='-', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 - 1 - 4',
         BinOp(op='-', x=BinOp(op='-', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 - 1 + 4',
         BinOp(op='+', x=BinOp(op='-', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 - 4',
         BinOp(op='-', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),
        ('2 + 3 + 1 + 4',
         BinOp(op='+', x=BinOp(op='+', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1')),
               y=IntValue(raw='4'))),

        ('2..3', BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2..x', BinOp(op='..', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2..-3',
         BinOp(op='..', x=IntValue(raw='2'), y=UnaryOp(op='-', x=IntValue(raw='3')))),
        ('2 .. 3  + 1',
         BinOp(op='..', x=IntValue(raw='2'), y=BinOp(op='+', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 .. 3  - 1',
         BinOp(op='..', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 .. 3  * 1',
         BinOp(op='..', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 .. 3  / 1',
         BinOp(op='..', x=IntValue(raw='2'), y=BinOp(op='/', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 + 3  .. 1',
         BinOp(op='..', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3  .. 1',
         BinOp(op='..', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  .. 1',
         BinOp(op='..', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  .. 1',
         BinOp(op='..', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  .. 1 + 4',
         BinOp(op='..', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  .. 1 - 4',
         BinOp(op='..', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  .. 1 * 4',
         BinOp(op='..', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  .. 1 / 4',
         BinOp(op='..', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  .. 1 + 4',
         BinOp(op='..', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  .. 1 - 4',
         BinOp(op='..', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  .. 1 * 4',
         BinOp(op='..', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  .. 1 / 4',
         BinOp(op='..', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  .. 1 + 4',
         BinOp(op='..', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  .. 1 - 4',
         BinOp(op='..', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  .. 1 * 4',
         BinOp(op='..', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  .. 1 / 4',
         BinOp(op='..', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  .. 1 + 4',
         BinOp(op='..', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  .. 1 - 4',
         BinOp(op='..', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  .. 1 * 4',
         BinOp(op='..', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  .. 1 / 4',
         BinOp(op='..', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),

        ('2 < 3', BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 < x', BinOp(op='<', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 < -3.0',
         BinOp(op='<', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 > 3', BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 > x', BinOp(op='>', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 > -3.0',
         BinOp(op='>', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 <= 3', BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 <= x', BinOp(op='<=', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 <= -3.0',
         BinOp(op='<=', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 >= 3', BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 >= x', BinOp(op='>=', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 >= -3.0',
         BinOp(op='>=', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 < 3  + 1',
         BinOp(op='<', x=IntValue(raw='2'), y=BinOp(op='+', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 < 3  - 1',
         BinOp(op='<', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 < 3  * 1',
         BinOp(op='<', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 < 3  / 1',
         BinOp(op='<', x=IntValue(raw='2'), y=BinOp(op='/', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 < 3  .. 1',
         BinOp(op='<', x=IntValue(raw='2'), y=BinOp(op='..', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 > 3  + 1',
         BinOp(op='>', x=IntValue(raw='2'), y=BinOp(op='+', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 > 3  - 1',
         BinOp(op='>', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 > 3  * 1',
         BinOp(op='>', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 > 3  / 1',
         BinOp(op='>', x=IntValue(raw='2'), y=BinOp(op='/', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 > 3  .. 1',
         BinOp(op='>', x=IntValue(raw='2'), y=BinOp(op='..', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 <= 3  + 1',
         BinOp(op='<=', x=IntValue(raw='2'), y=BinOp(op='+', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 <= 3  - 1',
         BinOp(op='<=', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 <= 3  * 1',
         BinOp(op='<=', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 <= 3  / 1',
         BinOp(op='<=', x=IntValue(raw='2'), y=BinOp(op='/', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 <= 3  .. 1',
         BinOp(op='<=', x=IntValue(raw='2'), y=BinOp(op='..', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 >= 3  + 1',
         BinOp(op='>=', x=IntValue(raw='2'), y=BinOp(op='+', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 >= 3  - 1',
         BinOp(op='>=', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 >= 3  * 1',
         BinOp(op='>=', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 >= 3  / 1',
         BinOp(op='>=', x=IntValue(raw='2'), y=BinOp(op='/', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 >= 3  .. 1',
         BinOp(op='>=', x=IntValue(raw='2'), y=BinOp(op='..', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 + 3  < 1',
         BinOp(op='<', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3  < 1',
         BinOp(op='<', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  < 1',
         BinOp(op='<', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  < 1',
         BinOp(op='<', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  < 1',
         BinOp(op='<', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  > 1',
         BinOp(op='>', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3  > 1',
         BinOp(op='>', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  > 1',
         BinOp(op='>', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  > 1',
         BinOp(op='>', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  > 1',
         BinOp(op='>', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  <= 1',
         BinOp(op='<=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3  <= 1',
         BinOp(op='<=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  <= 1',
         BinOp(op='<=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  <= 1',
         BinOp(op='<=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  <= 1',
         BinOp(op='<=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  >= 1',
         BinOp(op='>=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3  >= 1',
         BinOp(op='>=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  >= 1',
         BinOp(op='>=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  >= 1',
         BinOp(op='>=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  >= 1',
         BinOp(op='>=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  < 1 + 4',
         BinOp(op='<', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  < 1 - 4',
         BinOp(op='<', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  < 1 * 4',
         BinOp(op='<', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  < 1 / 4',
         BinOp(op='<', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  < 1 .. 4',
         BinOp(op='<', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  < 1 + 4',
         BinOp(op='<', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  < 1 - 4',
         BinOp(op='<', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  < 1 * 4',
         BinOp(op='<', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  < 1 / 4',
         BinOp(op='<', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  < 1 .. 4',
         BinOp(op='<', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  < 1 + 4',
         BinOp(op='<', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  < 1 - 4',
         BinOp(op='<', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  < 1 * 4',
         BinOp(op='<', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  < 1 / 4',
         BinOp(op='<', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  < 1 .. 4',
         BinOp(op='<', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  < 1 + 4',
         BinOp(op='<', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  < 1 - 4',
         BinOp(op='<', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  < 1 * 4',
         BinOp(op='<', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  < 1 / 4',
         BinOp(op='<', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  < 1 .. 4',
         BinOp(op='<', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  < 1 + 4',
         BinOp(op='<', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  < 1 - 4',
         BinOp(op='<', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  < 1 * 4',
         BinOp(op='<', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  < 1 / 4',
         BinOp(op='<', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  < 1 .. 4',
         BinOp(op='<', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  > 1 + 4',
         BinOp(op='>', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  > 1 - 4',
         BinOp(op='>', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  > 1 * 4',
         BinOp(op='>', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  > 1 / 4',
         BinOp(op='>', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  > 1 .. 4',
         BinOp(op='>', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  > 1 + 4',
         BinOp(op='>', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  > 1 - 4',
         BinOp(op='>', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  > 1 * 4',
         BinOp(op='>', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  > 1 / 4',
         BinOp(op='>', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  > 1 .. 4',
         BinOp(op='>', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  > 1 + 4',
         BinOp(op='>', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  > 1 - 4',
         BinOp(op='>', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  > 1 * 4',
         BinOp(op='>', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  > 1 / 4',
         BinOp(op='>', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  > 1 .. 4',
         BinOp(op='>', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  > 1 + 4',
         BinOp(op='>', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  > 1 - 4',
         BinOp(op='>', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  > 1 * 4',
         BinOp(op='>', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  > 1 / 4',
         BinOp(op='>', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  > 1 .. 4',
         BinOp(op='>', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  > 1 + 4',
         BinOp(op='>', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  > 1 - 4',
         BinOp(op='>', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  > 1 * 4',
         BinOp(op='>', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  > 1 / 4',
         BinOp(op='>', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  > 1 .. 4',
         BinOp(op='>', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  <= 1 + 4',
         BinOp(op='<=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  <= 1 - 4',
         BinOp(op='<=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  <= 1 * 4',
         BinOp(op='<=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  <= 1 / 4',
         BinOp(op='<=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  <= 1 .. 4',
         BinOp(op='<=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  <= 1 + 4',
         BinOp(op='<=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  <= 1 - 4',
         BinOp(op='<=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  <= 1 * 4',
         BinOp(op='<=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  <= 1 / 4',
         BinOp(op='<=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  <= 1 .. 4',
         BinOp(op='<=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  <= 1 + 4',
         BinOp(op='<=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  <= 1 - 4',
         BinOp(op='<=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  <= 1 * 4',
         BinOp(op='<=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  <= 1 / 4',
         BinOp(op='<=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  <= 1 .. 4',
         BinOp(op='<=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  <= 1 + 4',
         BinOp(op='<=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  <= 1 - 4',
         BinOp(op='<=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  <= 1 * 4',
         BinOp(op='<=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  <= 1 / 4',
         BinOp(op='<=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  <= 1 .. 4',
         BinOp(op='<=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  <= 1 + 4',
         BinOp(op='<=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  <= 1 - 4',
         BinOp(op='<=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  <= 1 * 4',
         BinOp(op='<=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  <= 1 / 4',
         BinOp(op='<=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  <= 1 .. 4',
         BinOp(op='<=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  >= 1 + 4',
         BinOp(op='>=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  >= 1 - 4',
         BinOp(op='>=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  >= 1 * 4',
         BinOp(op='>=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  >= 1 / 4',
         BinOp(op='>=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  >= 1 .. 4',
         BinOp(op='>=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  >= 1 + 4',
         BinOp(op='>=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  >= 1 - 4',
         BinOp(op='>=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  >= 1 * 4',
         BinOp(op='>=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  >= 1 / 4',
         BinOp(op='>=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 - 3  >= 1 .. 4',
         BinOp(op='>=', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  >= 1 + 4',
         BinOp(op='>=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  >= 1 - 4',
         BinOp(op='>=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  >= 1 * 4',
         BinOp(op='>=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  >= 1 / 4',
         BinOp(op='>=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  >= 1 .. 4',
         BinOp(op='>=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  >= 1 + 4',
         BinOp(op='>=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  >= 1 - 4',
         BinOp(op='>=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  >= 1 * 4',
         BinOp(op='>=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  >= 1 / 4',
         BinOp(op='>=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  >= 1 .. 4',
         BinOp(op='>=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  >= 1 + 4',
         BinOp(op='>=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  >= 1 - 4',
         BinOp(op='>=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  >= 1 * 4',
         BinOp(op='>=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  >= 1 / 4',
         BinOp(op='>=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  >= 1 .. 4',
         BinOp(op='>=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),

        ('istype x', ClsTestOp(op='istype', x=None, y=QualifiedName(names=['x']))),
        ("istype x::'+'",
         ClsTestOp(op='istype', x=None, y=QualifiedName(names=['x', '+']))),
        ('hastype x', ClsTestOp(op='hastype', x=None, y=QualifiedName(names=['x']))),
        ("hastype x::'+'",
         ClsTestOp(op='hastype', x=None, y=QualifiedName(names=['x', '+']))),
        ('@ x', ClsTestOp(op='@', x=None, y=QualifiedName(names=['x']))),
        ("@ x::'+'", ClsTestOp(op='@', x=None, y=QualifiedName(names=['x', '+']))),
        ('as x', ClsCastOp(x=None, y=QualifiedName(names=['x']))),
        ("as x::'+'", ClsCastOp(x=None, y=QualifiedName(names=['x', '+']))),
        ('3 istype x',
         ClsTestOp(op='istype', x=IntValue(raw='3'), y=QualifiedName(names=['x']))),
        ("3 istype x::'+'",
         ClsTestOp(op='istype', x=IntValue(raw='3'), y=QualifiedName(names=['x', '+']))),
        ('3 hastype x',
         ClsTestOp(op='hastype', x=IntValue(raw='3'), y=QualifiedName(names=['x']))),
        ("3 hastype x::'+'",
         ClsTestOp(op='hastype', x=IntValue(raw='3'), y=QualifiedName(names=['x', '+']))),
        ('3 @ x', ClsTestOp(op='@', x=IntValue(raw='3'), y=QualifiedName(names=['x']))),
        ("3 @ x::'+'",
         ClsTestOp(op='@', x=IntValue(raw='3'), y=QualifiedName(names=['x', '+']))),
        ('3 as x', ClsCastOp(x=IntValue(raw='3'), y=QualifiedName(names=['x']))),
        ("3 as x::'+'",
         ClsCastOp(x=IntValue(raw='3'), y=QualifiedName(names=['x', '+']))),
        ('x istype x',
         ClsTestOp(op='istype', x=QualifiedName(names=['x']), y=QualifiedName(names=['x']))),
        ("x istype x::'+'",
         ClsTestOp(op='istype', x=QualifiedName(names=['x']), y=QualifiedName(names=['x', '+']))),
        ('x hastype x',
         ClsTestOp(op='hastype', x=QualifiedName(names=['x']), y=QualifiedName(names=['x']))),
        ("x hastype x::'+'",
         ClsTestOp(op='hastype', x=QualifiedName(names=['x']), y=QualifiedName(names=['x', '+']))),
        ('x @ x',
         ClsTestOp(op='@', x=QualifiedName(names=['x']), y=QualifiedName(names=['x']))),
        ("x @ x::'+'",
         ClsTestOp(op='@', x=QualifiedName(names=['x']), y=QualifiedName(names=['x', '+']))),
        ('x as x',
         ClsCastOp(x=QualifiedName(names=['x']), y=QualifiedName(names=['x']))),
        ("x as x::'+'",
         ClsCastOp(x=QualifiedName(names=['x']), y=QualifiedName(names=['x', '+']))),
        ('-3.0 istype x',
         ClsTestOp(op='istype', x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x']))),
        ("-3.0 istype x::'+'",
         ClsTestOp(op='istype', x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x', '+']))),
        ('-3.0 hastype x',
         ClsTestOp(op='hastype', x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x']))),
        ("-3.0 hastype x::'+'",
         ClsTestOp(op='hastype', x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x', '+']))),
        ('-3.0 @ x',
         ClsTestOp(op='@', x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x']))),
        ("-3.0 @ x::'+'",
         ClsTestOp(op='@', x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x', '+']))),
        ('-3.0 as x',
         ClsCastOp(x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x']))),
        ("-3.0 as x::'+'",
         ClsCastOp(x=UnaryOp(op='-', x=RealValue(raw='3.0')), y=QualifiedName(names=['x', '+']))),
        ('x @@ x',
         MetaClsTestOp(op='@@', x=QualifiedName(names=['x']), y=QualifiedName(names=['x']))),
        ("x @@ x::'+'",
         MetaClsTestOp(op='@@', x=QualifiedName(names=['x']), y=QualifiedName(names=['x', '+']))),
        ('x meta x',
         MetaClsCastOp(x=QualifiedName(names=['x']), y=QualifiedName(names=['x']))),
        ("x meta x::'+'",
         MetaClsCastOp(x=QualifiedName(names=['x']), y=QualifiedName(names=['x', '+']))),
        ("x::'+' @@ x",
         MetaClsTestOp(op='@@', x=QualifiedName(names=['x', '+']), y=QualifiedName(names=['x']))),
        ("x::'+' @@ x::'+'",
         MetaClsTestOp(op='@@', x=QualifiedName(names=['x', '+']), y=QualifiedName(names=['x', '+']))),
        ("x::'+' meta x",
         MetaClsCastOp(x=QualifiedName(names=['x', '+']), y=QualifiedName(names=['x']))),
        ("x::'+' meta x::'+'",
         MetaClsCastOp(x=QualifiedName(names=['x', '+']), y=QualifiedName(names=['x', '+']))),

        ('2 == 3', BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 == x', BinOp(op='==', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 == -3.0',
         BinOp(op='==', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 != 3', BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 != x', BinOp(op='!=', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 != -3.0',
         BinOp(op='!=', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 === 3', BinOp(op='===', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 === x', BinOp(op='===', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 === -3.0',
         BinOp(op='===', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 !== 3', BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 !== x', BinOp(op='!==', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 !== -3.0',
         BinOp(op='!==', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 == 3  <= 1',
         BinOp(op='==', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 == 3  * 1',
         BinOp(op='==', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 == 3  - 1',
         BinOp(op='==', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 != 3  <= 1',
         BinOp(op='!=', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 != 3  * 1',
         BinOp(op='!=', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 != 3  - 1',
         BinOp(op='!=', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 === 3  <= 1',
         BinOp(op='===', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 === 3  * 1',
         BinOp(op='===', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 === 3  - 1',
         BinOp(op='===', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 !== 3  <= 1',
         BinOp(op='!==', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 !== 3  * 1',
         BinOp(op='!==', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 !== 3  - 1',
         BinOp(op='!==', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 / 3  == 1',
         BinOp(op='==', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  == 1',
         BinOp(op='==', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 < 3  == 1',
         BinOp(op='==', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  != 1',
         BinOp(op='!=', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  != 1',
         BinOp(op='!=', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 < 3  != 1',
         BinOp(op='!=', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  === 1',
         BinOp(op='===', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  === 1',
         BinOp(op='===', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 < 3  === 1',
         BinOp(op='===', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  !== 1',
         BinOp(op='!==', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  !== 1',
         BinOp(op='!==', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 < 3  !== 1',
         BinOp(op='!==', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  == 1 / 4',
         BinOp(op='==', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  == 1 .. 4',
         BinOp(op='==', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  == 1 * 4',
         BinOp(op='==', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  == 1 / 4',
         BinOp(op='==', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  == 1 .. 4',
         BinOp(op='==', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  == 1 * 4',
         BinOp(op='==', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  == 1 / 4',
         BinOp(op='==', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  == 1 .. 4',
         BinOp(op='==', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  == 1 * 4',
         BinOp(op='==', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  != 1 / 4',
         BinOp(op='!=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  != 1 .. 4',
         BinOp(op='!=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  != 1 * 4',
         BinOp(op='!=', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  != 1 / 4',
         BinOp(op='!=', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  != 1 .. 4',
         BinOp(op='!=', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  != 1 * 4',
         BinOp(op='!=', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  != 1 / 4',
         BinOp(op='!=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  != 1 .. 4',
         BinOp(op='!=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  != 1 * 4',
         BinOp(op='!=', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  === 1 / 4',
         BinOp(op='===', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  === 1 .. 4',
         BinOp(op='===', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  === 1 * 4',
         BinOp(op='===', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  === 1 / 4',
         BinOp(op='===', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  === 1 .. 4',
         BinOp(op='===', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  === 1 * 4',
         BinOp(op='===', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  === 1 / 4',
         BinOp(op='===', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  === 1 .. 4',
         BinOp(op='===', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  === 1 * 4',
         BinOp(op='===', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  !== 1 / 4',
         BinOp(op='!==', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  !== 1 .. 4',
         BinOp(op='!==', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 + 3  !== 1 * 4',
         BinOp(op='!==', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  !== 1 / 4',
         BinOp(op='!==', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  !== 1 .. 4',
         BinOp(op='!==', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  !== 1 * 4',
         BinOp(op='!==', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  !== 1 / 4',
         BinOp(op='!==', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  !== 1 .. 4',
         BinOp(op='!==', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  !== 1 * 4',
         BinOp(op='!==', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3 == 1',
         BinOp(op='==', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 == 3 != 1',
         BinOp(op='!=', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 == 3 === 1',
         BinOp(op='===', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 == 3 !== 1',
         BinOp(op='!==', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3 == 1',
         BinOp(op='==', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3 != 1',
         BinOp(op='!=', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3 === 1',
         BinOp(op='===', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3 !== 1',
         BinOp(op='!==', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 === 3 == 1',
         BinOp(op='==', x=BinOp(op='===', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 === 3 != 1',
         BinOp(op='!=', x=BinOp(op='===', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 === 3 === 1',
         BinOp(op='===', x=BinOp(op='===', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 === 3 !== 1',
         BinOp(op='!==', x=BinOp(op='===', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 !== 3 == 1',
         BinOp(op='==', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 !== 3 != 1',
         BinOp(op='!=', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 !== 3 === 1',
         BinOp(op='===', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 !== 3 !== 1',
         BinOp(op='!==', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),

        ('2 & 3', BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 & x', BinOp(op='&', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 & -3.0',
         BinOp(op='&', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 and 3', CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 and x',
         CondBinOp(op='and', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 and -3.0',
         CondBinOp(op='and', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 & 3  >= 1',
         BinOp(op='&', x=IntValue(raw='2'), y=BinOp(op='>=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 & 3  != 1',
         BinOp(op='&', x=IntValue(raw='2'), y=BinOp(op='!=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 & 3  - 1',
         BinOp(op='&', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 & 3  <= 1',
         BinOp(op='&', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 and 3  >= 1',
         CondBinOp(op='and', x=IntValue(raw='2'), y=BinOp(op='>=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 and 3  != 1',
         CondBinOp(op='and', x=IntValue(raw='2'), y=BinOp(op='!=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 and 3  - 1',
         CondBinOp(op='and', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 and 3  <= 1',
         CondBinOp(op='and', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 .. 3  & 1',
         BinOp(op='&', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3  & 1',
         BinOp(op='&', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  & 1',
         BinOp(op='&', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 >= 3  & 1',
         BinOp(op='&', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  and 1',
         CondBinOp(op='and', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3  and 1',
         CondBinOp(op='and', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  and 1',
         CondBinOp(op='and', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 >= 3  and 1',
         CondBinOp(op='and', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 < 3  & 1 + 4',
         BinOp(op='&', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  & 1 !== 4',
         BinOp(op='&', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  & 1 > 4',
         BinOp(op='&', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  & 1 * 4',
         BinOp(op='&', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  & 1 + 4',
         BinOp(op='&', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  & 1 !== 4',
         BinOp(op='&', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  & 1 > 4',
         BinOp(op='&', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  & 1 * 4',
         BinOp(op='&', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  & 1 + 4',
         BinOp(op='&', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  & 1 !== 4',
         BinOp(op='&', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  & 1 > 4',
         BinOp(op='&', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  & 1 * 4',
         BinOp(op='&', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  & 1 + 4',
         BinOp(op='&', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  & 1 !== 4',
         BinOp(op='&', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  & 1 > 4',
         BinOp(op='&', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  & 1 * 4',
         BinOp(op='&', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  and 1 + 4',
         CondBinOp(op='and', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  and 1 !== 4',
         CondBinOp(op='and', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  and 1 > 4',
         CondBinOp(op='and', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  and 1 * 4',
         CondBinOp(op='and', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  and 1 + 4',
         CondBinOp(op='and', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  and 1 !== 4',
         CondBinOp(op='and', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  and 1 > 4',
         CondBinOp(op='and', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  and 1 * 4',
         CondBinOp(op='and', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  and 1 + 4',
         CondBinOp(op='and', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  and 1 !== 4',
         CondBinOp(op='and', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  and 1 > 4',
         CondBinOp(op='and', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  and 1 * 4',
         CondBinOp(op='and', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  and 1 + 4',
         CondBinOp(op='and', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  and 1 !== 4',
         CondBinOp(op='and', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  and 1 > 4',
         CondBinOp(op='and', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  and 1 * 4',
         CondBinOp(op='and', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3 & 1',
         BinOp(op='&', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 & 3 and 1',
         CondBinOp(op='and', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 and 3 & 1',
         CondBinOp(op='and', x=IntValue(raw='2'), y=BinOp(op='&', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 and 3 and 1',
         CondBinOp(op='and', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),

        ('2 xor 3', BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 xor x', BinOp(op='xor', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 xor -3.0',
         BinOp(op='xor', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 xor 3  .. 1',
         BinOp(op='xor', x=IntValue(raw='2'), y=BinOp(op='..', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 xor 3  === 1',
         BinOp(op='xor', x=IntValue(raw='2'), y=BinOp(op='===', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 xor 3  & 1',
         BinOp(op='xor', x=IntValue(raw='2'), y=BinOp(op='&', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 xor 3  and 1',
         BinOp(op='xor', x=IntValue(raw='2'), y=CondBinOp(op='and', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 <= 3  xor 1',
         BinOp(op='xor', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  xor 1',
         BinOp(op='xor', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 & 3  xor 1',
         BinOp(op='xor', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 == 3  xor 1',
         BinOp(op='xor', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  xor 1 == 4',
         BinOp(op='xor', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  xor 1 < 4',
         BinOp(op='xor', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  xor 1 <= 4',
         BinOp(op='xor', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 .. 3  xor 1 & 4',
         BinOp(op='xor', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  xor 1 == 4',
         BinOp(op='xor', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  xor 1 < 4',
         BinOp(op='xor', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  xor 1 <= 4',
         BinOp(op='xor', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  xor 1 & 4',
         BinOp(op='xor', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  xor 1 == 4',
         BinOp(op='xor', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  xor 1 < 4',
         BinOp(op='xor', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  xor 1 <= 4',
         BinOp(op='xor', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  xor 1 & 4',
         BinOp(op='xor', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  xor 1 == 4',
         BinOp(op='xor', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  xor 1 < 4',
         BinOp(op='xor', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  xor 1 <= 4',
         BinOp(op='xor', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  xor 1 & 4',
         BinOp(op='xor', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3 xor 1',
         BinOp(op='xor', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),

        ('2 | 3', BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 | x', BinOp(op='|', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 | -3.0',
         BinOp(op='|', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 or 3', CondBinOp(op='or', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 or x',
         CondBinOp(op='or', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 or -3.0',
         CondBinOp(op='or', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 | 3  >= 1',
         BinOp(op='|', x=IntValue(raw='2'), y=BinOp(op='>=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 | 3  .. 1',
         BinOp(op='|', x=IntValue(raw='2'), y=BinOp(op='..', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 | 3  == 1',
         BinOp(op='|', x=IntValue(raw='2'), y=BinOp(op='==', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 | 3  & 1',
         BinOp(op='|', x=IntValue(raw='2'), y=BinOp(op='&', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 | 3  - 1',
         BinOp(op='|', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 | 3  / 1',
         BinOp(op='|', x=IntValue(raw='2'), y=BinOp(op='/', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 or 3  & 1',
         CondBinOp(op='or', x=IntValue(raw='2'), y=BinOp(op='&', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 or 3  != 1',
         CondBinOp(op='or', x=IntValue(raw='2'), y=BinOp(op='!=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 or 3  >= 1',
         CondBinOp(op='or', x=IntValue(raw='2'), y=BinOp(op='>=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 or 3  * 1',
         CondBinOp(op='or', x=IntValue(raw='2'), y=BinOp(op='*', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 or 3  > 1',
         CondBinOp(op='or', x=IntValue(raw='2'), y=BinOp(op='>', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 or 3  and 1',
         CondBinOp(op='or', x=IntValue(raw='2'), y=CondBinOp(op='and', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 < 3  | 1',
         BinOp(op='|', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  | 1',
         BinOp(op='|', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 <= 3  | 1',
         BinOp(op='|', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3  | 1',
         BinOp(op='|', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 xor 3  | 1',
         BinOp(op='|', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 and 3  | 1',
         BinOp(op='|', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 >= 3  or 1',
         CondBinOp(op='or', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 and 3  or 1',
         CondBinOp(op='or', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 / 3  or 1',
         CondBinOp(op='or', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 < 3  or 1',
         CondBinOp(op='or', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3  or 1',
         CondBinOp(op='or', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 !== 3  or 1',
         CondBinOp(op='or', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 !== 3  | 1 / 4',
         BinOp(op='|', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  | 1 <= 4',
         BinOp(op='|', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  | 1 == 4',
         BinOp(op='|', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 !== 3  | 1 != 4',
         BinOp(op='|', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='!=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 != 3  | 1 / 4',
         BinOp(op='|', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 != 3  | 1 * 4',
         BinOp(op='|', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 != 3  | 1 .. 4',
         BinOp(op='|', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 != 3  | 1 and 4',
         BinOp(op='|', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=CondBinOp(op='and', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  | 1 < 4',
         BinOp(op='|', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  | 1 * 4',
         BinOp(op='|', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  | 1 / 4',
         BinOp(op='|', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 < 3  | 1 > 4',
         BinOp(op='|', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  | 1 != 4',
         BinOp(op='|', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='!=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  | 1 * 4',
         BinOp(op='|', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  | 1 !== 4',
         BinOp(op='|', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 == 3  | 1 + 4',
         BinOp(op='|', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')),
               y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 and 3  or 1 xor 4',
         CondBinOp(op='or', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='xor', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 and 3  or 1 > 4',
         CondBinOp(op='or', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 and 3  or 1 * 4',
         CondBinOp(op='or', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 and 3  or 1 <= 4',
         CondBinOp(op='or', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='<=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  or 1 !== 4',
         CondBinOp(op='or', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  or 1 / 4',
         CondBinOp(op='or', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  or 1 == 4',
         CondBinOp(op='or', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  or 1 xor 4',
         CondBinOp(op='or', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='xor', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  or 1 === 4',
         CondBinOp(op='or', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='===', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  or 1 < 4',
         CondBinOp(op='or', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  or 1 >= 4',
         CondBinOp(op='or', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 / 3  or 1 !== 4',
         CondBinOp(op='or', x=BinOp(op='/', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  or 1 >= 4',
         CondBinOp(op='or', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  or 1 * 4',
         CondBinOp(op='or', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  or 1 > 4',
         CondBinOp(op='or', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 <= 3  or 1 / 4',
         CondBinOp(op='or', x=BinOp(op='<=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3 | 1',
         BinOp(op='|', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 | 3 or 1',
         CondBinOp(op='or', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 or 3 | 1',
         CondBinOp(op='or', x=IntValue(raw='2'), y=BinOp(op='|', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 or 3 or 1',
         CondBinOp(op='or', x=CondBinOp(op='or', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),

        ('2 implies 3',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 implies x',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 implies -3.0',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 implies 3  < 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=BinOp(op='<', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 implies 3  > 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=BinOp(op='>', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 implies 3  - 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 implies 3  <= 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 implies 3  and 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=CondBinOp(op='and', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 implies 3  >= 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=BinOp(op='>=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 implies 3  !== 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=BinOp(op='!==', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 implies 3  | 1',
         CondBinOp(op='implies', x=IntValue(raw='2'), y=BinOp(op='|', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 >= 3  implies 1',
         CondBinOp(op='implies', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 or 3  implies 1',
         CondBinOp(op='implies', x=CondBinOp(op='or', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 != 3  implies 1',
         CondBinOp(op='implies', x=BinOp(op='!=', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 - 3  implies 1',
         CondBinOp(op='implies', x=BinOp(op='-', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 & 3  implies 1',
         CondBinOp(op='implies', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 > 3  implies 1',
         CondBinOp(op='implies', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 * 3  implies 1',
         CondBinOp(op='implies', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 | 3  implies 1',
         CondBinOp(op='implies', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 xor 3  implies 1 === 4',
         CondBinOp(op='implies', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='===', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  implies 1 & 4',
         CondBinOp(op='implies', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  implies 1 or 4',
         CondBinOp(op='implies', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=CondBinOp(op='or', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  implies 1 * 4',
         CondBinOp(op='implies', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  implies 1 > 4',
         CondBinOp(op='implies', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  implies 1 & 4',
         CondBinOp(op='implies', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  implies 1 !== 4',
         CondBinOp(op='implies', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  implies 1 .. 4',
         CondBinOp(op='implies', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  implies 1 != 4',
         CondBinOp(op='implies', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  implies 1 - 4',
         CondBinOp(op='implies', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  implies 1 == 4',
         CondBinOp(op='implies', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  implies 1 >= 4',
         CondBinOp(op='implies', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  implies 1 / 4',
         CondBinOp(op='implies', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  implies 1 xor 4',
         CondBinOp(op='implies', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='xor', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  implies 1 < 4',
         CondBinOp(op='implies', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  implies 1 / 4',
         CondBinOp(op='implies', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  implies 1 >= 4',
         CondBinOp(op='implies', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  implies 1 + 4',
         CondBinOp(op='implies', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  implies 1 * 4',
         CondBinOp(op='implies', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='*', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 & 3  implies 1 .. 4',
         CondBinOp(op='implies', x=BinOp(op='&', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  implies 1 < 4',
         CondBinOp(op='implies', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='<', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  implies 1 and 4',
         CondBinOp(op='implies', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=CondBinOp(op='and', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  implies 1 > 4',
         CondBinOp(op='implies', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  implies 1 === 4',
         CondBinOp(op='implies', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='===', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 > 3  implies 1 | 4',
         CondBinOp(op='implies', x=BinOp(op='>', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='|', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 implies 3 implies 1',
         CondBinOp(op='implies', x=CondBinOp(op='implies', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=IntValue(raw='1'))),

        ('2 ?? 3', CondBinOp(op='??', x=IntValue(raw='2'), y=IntValue(raw='3'))),
        ('2 ?? x',
         CondBinOp(op='??', x=IntValue(raw='2'), y=QualifiedName(names=['x']))),
        ('2 ?? -3.0',
         CondBinOp(op='??', x=IntValue(raw='2'), y=UnaryOp(op='-', x=RealValue(raw='3.0')))),
        ('2 ?? 3  + 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='+', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 ?? 3  < 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='<', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 ?? 3  - 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='-', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 ?? 3  | 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='|', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 ?? 3  & 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='&', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 ?? 3  <= 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='<=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 ?? 3  xor 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='xor', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 ?? 3  != 1',
         CondBinOp(op='??', x=IntValue(raw='2'), y=BinOp(op='!=', x=IntValue(raw='3'), y=IntValue(raw='1')))),
        ('2 === 3  ?? 1',
         CondBinOp(op='??', x=BinOp(op='===', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 == 3  ?? 1',
         CondBinOp(op='??', x=BinOp(op='==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 !== 3  ?? 1',
         CondBinOp(op='??', x=BinOp(op='!==', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 .. 3  ?? 1',
         CondBinOp(op='??', x=BinOp(op='..', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 < 3  ?? 1',
         CondBinOp(op='??', x=BinOp(op='<', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 | 3  ?? 1',
         CondBinOp(op='??', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 + 3  ?? 1',
         CondBinOp(op='??', x=BinOp(op='+', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 and 3  ?? 1',
         CondBinOp(op='??', x=CondBinOp(op='and', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
        ('2 | 3  ?? 1 <= 4',
         CondBinOp(op='??', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='<=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  ?? 1 xor 4',
         CondBinOp(op='??', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='xor', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  ?? 1 & 4',
         CondBinOp(op='??', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  ?? 1 > 4',
         CondBinOp(op='??', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='>', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 | 3  ?? 1 !== 4',
         CondBinOp(op='??', x=BinOp(op='|', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  ?? 1 != 4',
         CondBinOp(op='??', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='!=', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  ?? 1 === 4',
         CondBinOp(op='??', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='===', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  ?? 1 implies 4',
         CondBinOp(op='??', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=CondBinOp(op='implies', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  ?? 1 - 4',
         CondBinOp(op='??', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='-', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 xor 3  ?? 1 + 4',
         CondBinOp(op='??', x=BinOp(op='xor', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='+', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  ?? 1 / 4',
         CondBinOp(op='??', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  ?? 1 xor 4',
         CondBinOp(op='??', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='xor', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  ?? 1 and 4',
         CondBinOp(op='??', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=CondBinOp(op='and', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  ?? 1 === 4',
         CondBinOp(op='??', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='===', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 >= 3  ?? 1 implies 4',
         CondBinOp(op='??', x=BinOp(op='>=', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=CondBinOp(op='implies', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  ?? 1 or 4',
         CondBinOp(op='??', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=CondBinOp(op='or', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  ?? 1 / 4',
         CondBinOp(op='??', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  ?? 1 | 4',
         CondBinOp(op='??', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='|', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  ?? 1 == 4',
         CondBinOp(op='??', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='==', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 * 3  ?? 1 & 4',
         CondBinOp(op='??', x=BinOp(op='*', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='&', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 implies 3  ?? 1 xor 4',
         CondBinOp(op='??', x=CondBinOp(op='implies', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='xor', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 implies 3  ?? 1 .. 4',
         CondBinOp(op='??', x=CondBinOp(op='implies', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='..', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 implies 3  ?? 1 or 4',
         CondBinOp(op='??', x=CondBinOp(op='implies', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=CondBinOp(op='or', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 implies 3  ?? 1 | 4',
         CondBinOp(op='??', x=CondBinOp(op='implies', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='|', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 implies 3  ?? 1 / 4',
         CondBinOp(op='??', x=CondBinOp(op='implies', x=IntValue(raw='2'), y=IntValue(raw='3')),
                   y=BinOp(op='/', x=IntValue(raw='1'), y=IntValue(raw='4')))),
        ('2 ?? 3 ?? 1',
         CondBinOp(op='??', x=CondBinOp(op='??', x=IntValue(raw='2'), y=IntValue(raw='3')), y=IntValue(raw='1'))),
    ])
    @pytest.mark.focus
    def test_owned_expression(self, text, expected):
        parser = _parser_for_rule('owned_expression')
        if isinstance(expected, type) and issubclass(expected, Exception):
            with pytest.raises(expected):
                _ = parser(text)
        else:
            v, rules = parser(text)
            assert v == expected
            # assert 'owned_expression' in rules
